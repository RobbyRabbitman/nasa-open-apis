<section class="flex flex-col gap-4 min-h-screen">
  <mat-spinner
    *ngIf="loadingPhotos$ | async"
    class="!absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2"
    color="primary"
  >
  </mat-spinner>
  <form
    [formGroup]="form"
    class="flex flex-col gap-4 items-center sticky top-0 p-4 z-[1] bg-primary-contrast mat-elevation-z6 md:flex-row"
  >
    <mat-form-field class="w-48 flex-initial">
      <mat-label>Rover</mat-label>
      <mat-select [formControl]="rover">
        <mat-option [value]="rover.name" *ngFor="let rover of rovers$ | async">
          {{ rover.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    <mat-form-field class="w-48 flex-initial">
      <mat-label>Choose a date</mat-label>
      <input
        [formControl]="date"
        autocomplete="off"
        matInput
        [matDatepicker]="picker"
      />
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-datepicker #picker></mat-datepicker>
    </mat-form-field>
    <mat-form-field class="w-48 flex-auto">
      <mat-label>Cameras</mat-label>
      <mat-select [formControl]="cameras" [multiple]="true">
        <mat-option
          *ngFor="let camera of (rover$ | async)?.cameras"
          [value]="camera"
        >
          <strong>{{ camera.name }}</strong> - {{ camera.full_name }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </form>

  <section class="flex gap-4 flex-wrap justify-center items-end">
    <ng-container *ngIf="(loadingPhotos$ | async) === false">
      <mrp-ui-photo-card
        class="flex-auto max-w-xs"
        *ngFor="let photo of photos$ | async"
        [photo]="photo"
      >
      </mrp-ui-photo-card>
    </ng-container>
  </section>
</section>
